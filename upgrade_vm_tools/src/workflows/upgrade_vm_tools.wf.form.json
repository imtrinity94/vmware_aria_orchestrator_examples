{
  "itemId": "",
  "layout": {
    "pages": [
      {
        "id": "page_1",
        "sections": [
          {
            "fields": [
              {
                "display": "valuePicker",
                "id": "vm",
                "signpostPosition": "right-middle"
              }
            ],
            "id": "section_0"
          },
          {
            "fields": [
              {
                "display": "textField",
                "id": "__tokenName",
                "signpostPosition": "right-middle",
                "state": {
                  "visible": false
                }
              }
            ],
            "id": "section_1"
          },
          {
            "fields": [
              {
                "display": "checkbox",
                "id": "allowReboot",
                "signpostPosition": "right-middle"
              }
            ],
            "id": "section_2"
          },
          {
            "fields": [
              {
                "display": "checkbox",
                "id": "setVmToolsUpgradePolicy",
                "signpostPosition": "right-middle"
              }
            ],
            "id": "section_3"
          },
          {
            "fields": [
              {
                "display": "dropDown",
                "id": "desiredVmToolsUpgradePolicy",
                "signpostPosition": "right-middle",
                "state": {
                  "visible": {
                    "id": "com.vmware.o11n.forms/evalOGNL",
                    "parameters": [
                      {
                        "ognl": "`#setVmToolsUpgradePolicy`"
                      },
                      {
                        "setVmToolsUpgradePolicy": "setVmToolsUpgradePolicy"
                      },
                      {
                        "setVmToolsUpgradePolicy__type_": "`boolean`"
                      },
                      {
                        "return": "`boolean`"
                      }
                    ],
                    "type": "scriptAction"
                  }
                }
              }
            ],
            "id": "section_4"
          },
          {
            "fields": [
              {
                "display": "checkbox",
                "id": "allowUpgradeTemplates",
                "signpostPosition": "right-middle",
                "state": {
                  "read-only": false,
                  "visible": true
                }
              }
            ],
            "id": "section_5"
          },
          {
            "fields": [
              {
                "display": "checkbox",
                "id": "allowUpgradePoweredOffVms",
                "signpostPosition": "right-middle",
                "state": {
                  "read-only": [
                    {
                      "equals": {
                        "allowUpgradeTemplates": true
                      },
                      "value": true
                    }
                  ],
                  "visible": true
                }
              }
            ],
            "id": "section_6"
          },
          {
            "fields": [
              {
                "display": "checkbox",
                "id": "createSnapshot",
                "signpostPosition": "right-middle",
                "state": {
                  "read-only": false,
                  "visible": true
                }
              }
            ],
            "id": "section_586819e2"
          }
        ],
        "title": "General"
      }
    ]
  },
  "options": {
    "externalValidations": []
  },
  "schema": {
    "__tokenName": {
      "constraints": {},
      "default": {
        "id": "com.vmware.o11n.forms/evalOGNL",
        "parameters": [
          {
            "ognl": "`#vm.name`"
          },
          {
            "vm": "vm"
          },
          {
            "vm__type_": "`VC:VirtualMachine`"
          },
          {
            "return": "`string`"
          }
        ],
        "type": "scriptAction"
      },
      "id": "__tokenName",
      "label": "Internal property",
      "type": {
        "dataType": "string",
        "isMultiple": false
      }
    },
    "allowReboot": {
      "constraints": {},
      "default": true,
      "id": "allowReboot",
      "label": "Allow reboot? If true, VM will be rebooted if required by the installation. If false, reboot will be suppressed.",
      "type": {
        "dataType": "boolean",
        "isMultiple": false
      }
    },
    "allowUpgradePoweredOffVms": {
      "constraints": {},
      "default": [
        {
          "equals": {
            "allowUpgradeTemplates": true
          },
          "value": true
        }
      ],
      "id": "allowUpgradePoweredOffVms",
      "label": "allowUpgradePoweredOffVms",
      "type": {
        "dataType": "boolean",
        "isMultiple": false
      }
    },
    "allowUpgradeTemplates": {
      "constraints": {},
      "default": false,
      "id": "allowUpgradeTemplates",
      "label": "allowUpgradeTemplates",
      "type": {
        "dataType": "boolean",
        "isMultiple": false
      }
    },
    "createSnapshot": {
      "description": "Create a snapshot before any changes",
      "label": "createSnapshot",
      "type": {
        "dataType": "boolean"
      }
    },
    "desiredVmToolsUpgradePolicy": {
      "constraints": {
        "required": {
          "id": "com.vmware.o11n.forms/evalOGNL",
          "parameters": [
            {
              "ognl": "`#setVmToolsUpgradePolicy`"
            },
            {
              "setVmToolsUpgradePolicy": "setVmToolsUpgradePolicy"
            },
            {
              "setVmToolsUpgradePolicy__type_": "`boolean`"
            },
            {
              "return": "`boolean`"
            }
          ],
          "type": "scriptAction"
        }
      },
      "default": "manual",
      "id": "desiredVmToolsUpgradePolicy",
      "label": "Desired VMTools upgrade policy (manual or upgradeAtPowerCycle)",
      "type": {
        "dataType": "string",
        "isMultiple": false
      },
      "valueList": ["manual", "upgradeAtPowerCycle"]
    },
    "setVmToolsUpgradePolicy": {
      "constraints": {},
      "default": false,
      "id": "setVmToolsUpgradePolicy",
      "label": "Set VMTools upgrade policy?",
      "type": {
        "dataType": "boolean",
        "isMultiple": false
      }
    },
    "vm": {
      "constraints": {
        "required": true
      },
      "id": "vm",
      "label": "Virtual machine",
      "type": {
        "dataType": "reference",
        "isMultiple": false,
        "referenceType": "VC:VirtualMachine"
      }
    }
  }
}
